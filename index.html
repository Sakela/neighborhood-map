<!DOCTYPE HTML>
<html>
   <head>
      <title>Best Of Neighborhood</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link href="dist/css/style.min.css" rel="stylesheet">
      <script src="https://use.fontawesome.com/d8cb87ccd8.js"></script>
   </head>
   <body>
      <!-- Menu handles Marker visibility and City search input -->
      <header class="menu">
         <div>            
            <img class="menu-marker-btn" src="dist/img/marker-on.svg" data-bind="click: showListings, enable: enableButton">
            <img class="menu-marker-btn" src="dist/img/marker-off.svg" data-bind="click: hideListings, disable: enableButton">
            <input id="menu-city-search" type="search" name ="search" placeholder="Search City" data-bind="value: cityInput">
            <img id="menu-toggle-list" src="dist/img/menu.png" data-bind="click: toggleList">
         </div>
      </header>
      <!-- List of venues with Filter field -->
      <div class="list hidden">
         <div class="list-filter">
            <i class="fa fa-filter"></i>
            <i class="fa fa-times" aria-hidden="true" data-bind="click: clearFilter"></i>
            <input placeholder="Filter By Name" data-bind="textInput: searchText">
         </div>
         <!-- Foursquare Attribution -->
         <div id="foursquare-block">
            <a id="foursquare-block-content" href="https://foursquare.com/" target="_blank">Powered By Foursquare <i class="fa fa-foursquare fa-lg" aria-hidden="true"></i></a>
         </div>
         <!-- Loop through array of venues -->
         <ul class="list-block" data-bind="foreach: searchResults">
            <div id="block">
               <!-- Each venue content -->
               <li class="list-item" >
                  <div class="left-side">
                     <div class="content" data-bind="click: $root.bindPlaceMarker">
                        <h3 class="list-item-name" data-bind="text: name"></h3>
                        <span class="list-item-rating" id="left-rating" data-bind=" text: rating"></span>
                     </div>
                     <div class="content" data-bind="if: formattedAddress, click: $root.bindPlaceMarker">
                        <i class="fa fa-map-marker" aria-hidden="true"></i>
                        <p class="list-item-vicinity content" data-bind="text: formattedAddress"></p>
                     </div>
                     <div class="content" data-bind="if: phoneNumber"><i class="fa fa-phone-square" aria-hidden="true"></i><span class="list-item-phone content" data-bind="text: phoneNumber"></span></div>
                     <div class="content" data-bind="if: url"><i class="fa fa-globe" aria-hidden="true"></i><a class="list-item-website content" target="_blank" data-bind="attr: { href: url }, text: url"></a></div>
                  </div>
                  <div class="right-side">
                     <img class="list-item-image" src="" data-bind="attr: {src: image}">
                     <!-- <a href="https://placeholder.com"><img src="http://via.placeholder.com/100x100"></a> -->
                     <div class="test-test"><span class="list-item-rating" id="right-rating" data-bind=" text: rating"></span></div>
                  </div>
               </li>
               <hr>
            </div>
         </ul>
      </div>
      <!-- Error handling Foursquare data fetching and Inapropriate input for city search -->
      <div class="error-block">
         <h2 class="error-search">City search failed! Please enter valid city name and try again. </h2>
         <h2 class="error">Error: The list of venues/markers was not generated :( </h2>
      </div>
      <!-- Google Map content -->
      <div id="map"></div>
      <!-- Footer -->
      <div class="footer">
         <h4 class="footer-title inline">The Best Of Your Neighbourhood</h4>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
      <script src="dist/js/libs/jquery.min.js"></script>
      <script src="dist/js/main.min.js"></script>
      <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDV2SfPhFHchL_UBJp9HT3b1YG7sjo4GNs&libraries=places&callback=initMap"></script>
   </body>
</html>